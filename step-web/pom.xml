<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
	<modelVersion>4.0.0</modelVersion>

	<parent>
		<groupId>com.tyndalehouse.step</groupId>
		<artifactId>step-mvn</artifactId>
		<version>26.2.9</version>
	</parent>

	<artifactId>step-web</artifactId>
	<packaging>war</packaging>
	<name>STEP :: Step Web project</name>

	<properties>
		<skipTomcat>true</skipTomcat>
		<skipLocalHostACL>true</skipLocalHostACL>
        <!-- Empty by default -->
        <personal.suffix></personal.suffix>
	</properties>

	<dependencies>
		<dependency>
			<groupId>com.tyndalehouse.step</groupId>
			<artifactId>step-core</artifactId>
		</dependency>
        <dependency>
            <groupId>com.tyndalehouse.step</groupId>
            <artifactId>step-core-data</artifactId>
        </dependency>
        <dependency>
            <groupId>org.jasypt</groupId>
            <artifactId>jasypt</artifactId>
        </dependency>
		<dependency>
			<groupId>xalan</groupId>
			<artifactId>xalan</artifactId>
		</dependency>
		<dependency>
			<groupId>com.fasterxml.jackson.core</groupId>
			<artifactId>jackson-databind</artifactId>
		</dependency>

		<!-- Logging -->
		<dependency>
			<groupId>org.slf4j</groupId>
			<artifactId>slf4j-api</artifactId>
		</dependency>
		<dependency>
			<groupId>org.slf4j</groupId>
			<artifactId>slf4j-log4j12</artifactId>
			<scope>runtime</scope>
		</dependency>
		<dependency>
			<groupId>org.slf4j</groupId>
			<artifactId>jul-to-slf4j</artifactId>
			<version>1.6.6</version>
		</dependency>

		<!-- Servlet -->
		<dependency>
			<groupId>org.sonatype.sisu.inject</groupId>
			<artifactId>guice-servlet</artifactId>
		</dependency>
		<dependency>
			<groupId>javax.servlet</groupId>
			<artifactId>javax.servlet-api</artifactId>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>javax.servlet.jsp</groupId>
			<artifactId>jsp-api</artifactId>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>javax.servlet</groupId>
			<artifactId>jstl</artifactId>
		</dependency>

		<!-- test dependencies -->
		<dependency>
			<groupId>org.mockito</groupId>
			<artifactId>mockito-core</artifactId>
		</dependency>
		<dependency>
			<groupId>commons-collections</groupId>
			<artifactId>commons-collections</artifactId>
            <version>3.2.2</version>
        </dependency>

		<dependency>
			<groupId>org.crosswire</groupId>
			<artifactId>jsword</artifactId>
		</dependency>
		<!-- transitive dependencies not picked up by jsword -->
		<dependency>
			<groupId>javatar</groupId>
			<artifactId>javatar</artifactId>
		</dependency>
	</dependencies>

	<build>
		<finalName>step-web</finalName>
			<plugins>
				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-war-plugin</artifactId>
					<version>2.0.1</version>
					<executions>
						<execution>
							<id>prepare-war</id>
							<phase>prepare-package</phase>
							<goals> <goal>exploded</goal> </goals>
							<configuration>
								<webResources>
									<resource>
										<directory>${basedir}/src/main/webapp</directory>
										<filtering>true</filtering>
										<includes>
											<include>start.jsp</include>
										</includes>
									</resource>
								</webResources>
							</configuration>
						</execution> 
					</executions> 
				</plugin>

				<plugin>
					<groupId>nl.geodienstencentrum.maven</groupId>
					<artifactId>sass-maven-plugin</artifactId>
					<version>3.5.3</version>
					<executions>
						<execution>
							<id>scss-compile</id>
							<goals>
								<goal>update-stylesheets</goal>
							</goals>
							<configuration>
								<sassSourceDirectory>${basedir}/src/main/webapp/scss</sassSourceDirectory>
								<destination>${basedir}/src/main/webapp/scss</destination>
								<includes>
									<include>step-template.scss</include>
								</includes>
							</configuration>

						</execution>
					</executions>
				</plugin>

				<plugin>
					<groupId>com.samaxes.maven</groupId>
					<artifactId>minify-maven-plugin</artifactId>
					<executions>
						<execution>
							<id>minify-all-step-resources</id>
							<phase>generate-resources</phase>
							<goals>
								<goal>minify</goal>
							</goals>
							<configuration>
								<cssSourceDir>.</cssSourceDir>
								<cssSourceFiles>
									<cssSourceFile>css/bootstrap.css</cssSourceFile>
									<cssSourceFile>css/bootstrap-theme.min.css</cssSourceFile>
									<cssSourceFile>css/qtip.css</cssSourceFile>
									<cssSourceFile>css/select2.css</cssSourceFile>
									<cssSourceFile>css/select2-bootstrap.css</cssSourceFile>
									<cssSourceFile>scss/step-template.css</cssSourceFile>
									<cssSourceFile>css/passage.css</cssSourceFile>
									<cssSourceFile>css/introjs.min.css</cssSourceFile>
									<cssSourceFile>css/cardo.css</cssSourceFile>
								</cssSourceFiles>
								<cssFinalFile>step.${project.version}.css</cssFinalFile>
								<jsSourceDir>.</jsSourceDir>
								<jsSourceFiles>
									<jsSourceFile>libs/jquery-1.10.2.min.js</jsSourceFile>
									<jsSourceFile>libs/bootstrap.min.js</jsSourceFile>
									<jsSourceFile>libs/introjs.min.js</jsSourceFile>
									<jsSourceFile>libs/sprintf-0.7-beta1.js</jsSourceFile>
									<jsSourceFile>libs/underscore-min.js</jsSourceFile>
									<jsSourceFile>libs/json2.js</jsSourceFile>
									<jsSourceFile>libs/backbone-min.js</jsSourceFile>
									<jsSourceFile>libs/backbone.localStorage-min.js</jsSourceFile>
									<jsSourceFile>libs/select2.js</jsSourceFile>
									<jsSourceFile>libs/jquery-sortable.js</jsSourceFile>
									<jsSourceFile>libs/require-2.1.9.min.js</jsSourceFile>
									<jsSourceFile>js/require_config.js</jsSourceFile>
									<jsSourceFile>js/jquery-extensions/jquery-cookie.js</jsSourceFile>
									<jsSourceFile>js/jquery-extensions/jquery-sort.js</jsSourceFile>
									<jsSourceFile>js/step_constants.js</jsSourceFile>
									<jsSourceFile>js/step.util.js</jsSourceFile>
									<jsSourceFile>js/passage_selection.js</jsSourceFile>
									<jsSourceFile>js/search_selection.js</jsSourceFile>
                                    <jsSourceFile>js/copy_text.js</jsSourceFile>
									<jsSourceFile>js/lexicon_feedback.js</jsSourceFile>
									<jsSourceFile>js/backbone/views/view_main_search.js</jsSourceFile>
									<jsSourceFile>js/backbone/step_router.js</jsSourceFile>
									<jsSourceFile>js/backbone/views/view_display.js</jsSourceFile>
									<jsSourceFile>js/backbone/views/view_display_passage.js</jsSourceFile>
									<jsSourceFile>js/backbone/models/model_history.js</jsSourceFile>
									<jsSourceFile>js/backbone/models/passage_model.js</jsSourceFile>
									<jsSourceFile>js/backbone/models/model_settings.js</jsSourceFile>
									<jsSourceFile>js/backbone/views/view_menu_passage.js</jsSourceFile>
									<jsSourceFile>js/state/step.state.js</jsSourceFile>
									<jsSourceFile>js/passage/step.passage.js</jsSourceFile>
									<jsSourceFile>js/backbone/views/view_feedback.js</jsSourceFile>
									<jsSourceFile>js/backbone/views/view_examples.js</jsSourceFile>
									<jsSourceFile>js/backbone/views/view_color.js</jsSourceFile>
									<jsSourceFile>js/backbone/views/view_restore.js</jsSourceFile>
									<jsSourceFile>js/defaults/step.defaults.js</jsSourceFile>
									<jsSourceFile>js/step_ready.js</jsSourceFile>
								</jsSourceFiles>
								<jsFinalFile>step.${project.version}.js</jsFinalFile>
							</configuration>
						</execution>
						<execution>
							<id>minify-sidebar</id>
							<phase>generate-resources</phase>
							<goals>
								<goal>minify</goal>
							</goals>
							<configuration>
								<jsSourceDir>.</jsSourceDir>
								<jsSourceFiles>
									<!-- <jsSourceFile>libs/jquery.tagcloud.js</jsSourceFile> -->
									<jsSourceFile>js/backbone/models/model_sidebar.js</jsSourceFile>
									<jsSourceFile>js/backbone/views/view_wordle_stat.js</jsSourceFile>
									<jsSourceFile>js/backbone/views/view_history.js</jsSourceFile>
									<jsSourceFile>js/backbone/views/view_sidebar.js</jsSourceFile>

								</jsSourceFiles>
								<jsFinalFile>step.sidebar-${project.version}.js</jsFinalFile>
							</configuration>
						</execution>
						<execution>
							<id>minify-help-menu</id>
							<phase>generate-resources</phase>
							<goals>
								<goal>minify</goal>
							</goals>
							<configuration>
								<jsSourceDir>.</jsSourceDir>
								<jsSourceFiles>
									<jsSourceFile>js/backbone/views/view_help_menu.js</jsSourceFile>
								</jsSourceFiles>
								<jsFinalFile>step.help-menu-${project.version}.js</jsFinalFile>
							</configuration>
						</execution>
						<execution>
							<id>minify-qtip</id>
							<phase>generate-resources</phase>
							<goals>
								<goal>minify</goal>
							</goals>
							<configuration>
								<jsSourceDir>.</jsSourceDir>
								<jsSourceFiles>
									<jsSourceFile>js/jquery-extensions/jquery-qtip.js</jsSourceFile>
								</jsSourceFiles>
								<jsFinalFile>step.qtip-${project.version}.js</jsFinalFile>
							</configuration>
						</execution>
						<execution>
							<id>minify-searches</id>
							<phase>generate-resources</phase>
							<goals>
								<goal>minify</goal>
							</goals>
							<configuration>
								<jsSourceDir>.</jsSourceDir>
								<jsSourceFiles>
									<jsSourceFile>libs/dohighlight-min.js</jsSourceFile>
									<jsSourceFile>js/backbone/views/view_display_search.js</jsSourceFile>
									<jsSourceFile>js/backbone/views/view_display_text.js</jsSourceFile>
									<jsSourceFile>js/backbone/views/view_display_subject.js</jsSourceFile>
									<jsSourceFile>js/backbone/views/view_display_word.js</jsSourceFile>
									<jsSourceFile>js/passage/step.alternatives.js</jsSourceFile>
								</jsSourceFiles>
								<jsFinalFile>step.search-${project.version}.js</jsFinalFile>
							</configuration>
						</execution>
						<execution>
							<id>minify-dropdown-options</id>
							<phase>generate-resources</phase>
							<goals>
								<goal>minify</goal>
							</goals>
							<configuration>
								<jsSourceDir>.</jsSourceDir>
								<jsSourceFiles>
									<jsSourceFile>js/backbone/views/view_pick_bible.js</jsSourceFile>
									<jsSourceFile>js/backbone/views/view_advanced_search.js</jsSourceFile>
								</jsSourceFiles>
								<jsFinalFile>step.menu_extras-${project.version}.js</jsFinalFile>
							</configuration>
						</execution>
						<execution>
							<id>minify-quick-lexicon</id>
							<phase>generate-resources</phase>
							<goals>
								<goal>minify</goal>
							</goals>
							<configuration>
								<jsSourceDir>.</jsSourceDir>
								<jsSourceFiles>
									<jsSourceFile>js/backbone/views/view_quick_lexicon.js</jsSourceFile>
								</jsSourceFiles>
								<jsFinalFile>step.quick-lexicon-${project.version}.js</jsFinalFile>
							</configuration>
						</execution>
						<execution>
							<id>minify-draggabbilly</id>
							<phase>generate-resources</phase>
							<goals>
								<goal>minify</goal>
							</goals>
							<configuration>
								<jsSourceDir>.</jsSourceDir>
								<jsSourceFiles>
									<jsSourceFile>libs/draggabilly.js</jsSourceFile>
								</jsSourceFiles>
								<jsFinalFile>step.draggabilly-${project.version}.js</jsFinalFile>
							</configuration>
						</execution>
						<execution>
							<id>minify-html2canvas</id>
							<phase>generate-resources</phase>
							<goals>
								<goal>minify</goal>
							</goals>
							<configuration>
								<jsSourceDir>.</jsSourceDir>
								<jsSourceFiles>
									<jsSourceFile>libs/html2canvas.js</jsSourceFile>
								</jsSourceFiles>
								<jsFinalFile>step.html2canvas-${project.version}.js</jsFinalFile>
							</configuration>
						</execution>
						<execution>
							<id>minify-color_code_grammar</id>
							<phase>generate-resources</phase>
							<goals>
								<goal>minify</goal>
							</goals>
							<configuration>
								<cssSourceDir>.</cssSourceDir>
								<cssSourceFiles>
									<cssSourceFile>css/color_code_grammar.css</cssSourceFile>
								</cssSourceFiles>
								<cssFinalFile>color_code_grammar.${project.version}.css</cssFinalFile>
								<jsSourceDir>.</jsSourceDir>
								<jsSourceFiles>
									<jsSourceFile>js/color_code_grammar.js</jsSourceFile>
								</jsSourceFiles>
								<jsFinalFile>color_code_grammar.${project.version}.js</jsFinalFile>
							</configuration>
						</execution>
                        <execution>
							<id>minify-color_code_config</id>
							<phase>generate-resources</phase>
							<goals>
								<goal>minify</goal>
							</goals>
							<configuration>
								<jsSourceDir>.</jsSourceDir>
								<jsSourceFiles>
									<jsSourceFile>js/color_code_config.js</jsSourceFile>
								</jsSourceFiles>
								<jsFinalFile>color_code_config.${project.version}.js</jsFinalFile>
							</configuration>
						</execution>
                        <execution>
							<id>minify-order_version</id>
							<phase>generate-resources</phase>
							<goals>
								<goal>minify</goal>
							</goals>
							<configuration>
								<jsSourceDir>.</jsSourceDir>
								<jsSourceFiles>
									<jsSourceFile>js/order_version.js</jsSourceFile>
								</jsSourceFiles>
								<jsFinalFile>order_version.${project.version}.js</jsFinalFile>
							</configuration>
						</execution>
					</executions>
				</plugin>

				<plugin>
					<groupId>com.google.code.maven-replacer-plugin</groupId>
					<artifactId>replacer</artifactId>
					<version>1.5.3</version>
					<executions>
						<execution>
                            <id>change-version</id>
							<phase>prepare-package</phase>
							<goals>
								<goal>replace</goal>
							</goals>
         					<configuration>
                                <includes>
                                    <include>${basedir}/target/**/step.*.js</include>
									<include>${basedir}/target/step-web/html/*.html</include>
                                </includes>
                                <replacements>
                                    <replacement>
                                        <token>STEP_SERVER_VERSION_TOKEN</token>
                                        <value>${project.version}</value>
                                    </replacement>
                                </replacements>
                            </configuration>
						</execution>
						<execution>
                            <id>remove-const</id>
							<phase>prepare-package</phase>
							<goals>
								<goal>replace</goal>
							</goals>
                            <configuration>
                            <!-- Remove const which give long, readable index names in the program -->
                                <includes>
                                    <include>${basedir}/target/**/color_code_grammar.*.js</include>
                                    <include>${basedir}/target/**/color_code_config.*.js</include>
                                </includes>
                                <replacements>
                                    <replacement><token>C_Greek</token><value>0</value></replacement>
                                    <replacement><token>C_enableVerbClr</token><value>0</value></replacement>
                                    <replacement><token>C_inClrVerbItem</token><value>1</value></replacement>
                                    <replacement><token>C_slctUlVerbItem</token><value>2</value></replacement>
                                    <replacement><token>C_inPassiveBkgrdClr</token><value>3</value></replacement>
                                    <replacement><token>C_inPassiveUlClr1</token><value>4</value></replacement>
                                    <replacement><token>C_chkbxPassiveBkgrdClr</token><value>5</value></replacement>
                                    <replacement><token>C_chkbxPassiveBkgrdColrValue</token><value>6</value></replacement>
                                    <replacement><token>C_chkbxPassiveUlClr1</token><value>7</value></replacement>
                                    <replacement><token>C_chkbxPassiveUlColr1Value</token><value>8</value></replacement>
                                    <replacement><token>C_inMiddleBkgrdClr</token><value>9</value></replacement>
                                    <replacement><token>C_inMiddleUlClr1</token><value>10</value></replacement>
                                    <replacement><token>C_chkbxMiddleBkgrdClr</token><value>11</value></replacement>
                                    <replacement><token>C_chkbxMiddleBkgrdColrValue</token><value>12</value></replacement>
                                    <replacement><token>C_chkbxMiddleUlClr1</token><value>13</value></replacement>
                                    <replacement><token>C_chkbxMiddleUlColr1Value</token><value>14</value></replacement>
                                    <replacement><token>C_verbTableXHeader</token><value>15</value></replacement>
                                    <replacement><token>C_verbTableYHeader</token><value>16</value></replacement>
                                    <replacement><token>C_moodsOnOff</token><value>17</value></replacement>
                                    <replacement><token>C_tensesOnOff</token><value>18</value></replacement>
                                    <replacement><token>C_inAnimate</token><value>19</value></replacement>
                                    <replacement><token>C_orderOfTense</token><value>20</value></replacement>
                                    <replacement><token>C_orderOfMood</token><value>21</value></replacement>
                                    <replacement><token>C_tenseToCombineWithPrevious</token><value>22</value></replacement>
                                    <replacement><token>C_moodToCombineWithPrevious</token><value>23</value></replacement>
                                    <replacement><token>C_xAxisForMood</token><value>24</value></replacement>
                                    <replacement><token>C_inPassiveUlClr2</token><value>25</value></replacement>
                                    <replacement><token>C_inMiddleUlClr2</token><value>26</value></replacement>
                                    <replacement><token>C_chkbxPassiveUlClr2</token><value>27</value></replacement>
                                    <replacement><token>C_chkbxPassiveUlColr2Value</token><value>28</value></replacement>
                                    <replacement><token>C_chkbxMiddleUlClr2</token><value>29</value></replacement>
                                    <replacement><token>C_chkbxMiddleUlColr2Value</token><value>30</value></replacement>
                                    <replacement><token>C_OT</token><value>1</value></replacement>
                                    <replacement><token>C_xAxisOnOff</token><value>17</value></replacement>
                                    <replacement><token>C_yAxisOnOff</token><value>18</value></replacement>
                                    <replacement><token>C_orderOfForm</token><value>19</value></replacement>
                                    <replacement><token>C_verbFormToCombineWithPrevious</token><value>20</value></replacement>
                                    <replacement><token>C_orderOfHebrewStem</token><value>21</value></replacement>
                                    <replacement><token>C_hebrewStemToCombineWithPrevious</token><value>22</value></replacement>
                                    <replacement><token>C_orderOfAramaicStem</token><value>23</value></replacement>
                                    <replacement><token>C_aramaicStemToCombineWithPrevious</token><value>24</value></replacement>
                                    <replacement><token>C_hebrewCodeOfStem</token><value>25</value></replacement>
                                    <replacement><token>C_aramaicCodeOfStem</token><value>26</value></replacement>
                                    <replacement><token>C_codeOfForm</token><value>27</value></replacement>
                                    <replacement><token>C_xAxisForStem</token><value>28</value></replacement>
									<replacement><token>C_c4Version</token><value>2</value></replacement>
                                    <replacement><token>C_enableGenderNumberClr</token><value>3</value></replacement>
                                    <replacement><token>C_inClrMasculine</token><value>4</value></replacement>
                                    <replacement><token>C_inClrFeminine</token><value>5</value></replacement>
                                    <replacement><token>C_inClrNeuter</token><value>6</value></replacement>
                                    <replacement><token>C_slctUlSingular</token><value>7</value></replacement>
                                    <replacement><token>C_slctUlPlural</token><value>8</value></replacement>
                                    <replacement><token>C_activeIndexArray</token><value>0</value></replacement>
                                    <replacement><token>C_middleIndexArray</token><value>1</value></replacement>
                                    <replacement><token>C_passiveIndexArray</token><value>2</value></replacement>
                                    <replacement><token>C_animationInterval</token><value>3</value></replacement>
                                    <replacement><token>C_maxAnimationOnSamePageWithoutMovement</token><value>4</value></replacement>
                                    <replacement><token>C_robinsonCodeOfTense</token><value>5</value></replacement>
                                    <replacement><token>C_robinsonNameOfTense</token><value>6</value></replacement>
                                    <replacement><token>C_defaultOrderOfTense</token><value>7</value></replacement>
                                    <replacement><token>C_defaultTenseToCombineWithPrevious</token><value>8</value></replacement>
                                    <replacement><token>C_robinsonCodeOfMood</token><value>9</value></replacement>
                                    <replacement><token>C_robinsonNameOfMood</token><value>10</value></replacement>
                                    <replacement><token>C_defaultOrderOfMood</token><value>11</value></replacement>
                                    <replacement><token>C_defaultMoodToCombineWithPrevious</token><value>12</value></replacement>
                                    <replacement><token>C_otNameOfVerbForm</token><value>13</value></replacement>
                                    <replacement><token>C_defaultOrderOfOTVerbForm</token><value>14</value></replacement>
                                    <replacement><token>C_defaultOTVerbFormToCombineWithPrevious</token><value>15</value></replacement>
                                    <replacement><token>C_hebrewNameOfStem</token><value>16</value></replacement>
                                    <replacement><token>C_defaultOrderOfHebrewStem</token><value>17</value></replacement>
                                    <replacement><token>C_defaultHebriewStemToCombineWithPrevious</token><value>18</value></replacement>
                                    <replacement><token>C_aramaicNameOfStem</token><value>19</value></replacement>
                                    <replacement><token>C_defaultOrderOfAramaicStem</token><value>20</value></replacement>
                                    <replacement><token>C_defaultAramaicStemToCombineWithPrevious</token><value>21</value></replacement>
                                    <replacement><token>C_underlineCanvasName</token><value>22</value></replacement>
                                    <replacement><token>C_canvasUnderlineName</token><value>23</value></replacement>
                                    <replacement><token>C_moodIndexArray</token><value>24</value></replacement>
                                    <replacement><token>C_tenseIndexArray</token><value>25</value></replacement>
                                    <replacement><token>C_defaultCodeOfForm</token><value>26</value></replacement>
                                    <replacement><token>C_defaultHebrewCodeOfStem</token><value>27</value></replacement>
                                    <replacement><token>C_defaultAramaicCodeOfStem</token><value>28</value></replacement>
									<replacement><token>C_underlineCharsInSelectDropdown</token><value>29</value></replacement>
                                    <replacement><token>C_colorCodeGrammarAvailableAndSelected</token><value>0</value></replacement>
                                    <replacement><token>C_otMorph</token><value>1</value></replacement>
                                    <replacement><token>C_displayQuickTryoutAccordion1</token><value>2</value></replacement>
                                    <replacement><token>C_displayQuickTryoutAccordion2</token><value>3</value></replacement>
                                    <replacement><token>C_displayQuickTryoutAccordion3</token><value>4</value></replacement>
                                    <replacement><token>C_uLBASEIMGS</token><value>5</value></replacement>
                                    <replacement><token>C_ulVerbCSS</token><value>6</value></replacement>
                                    <replacement><token>C_ulOTVbCSS</token><value>7</value></replacement>
                                    <replacement><token>C_oTFormIndex2CSS</token><value>8</value></replacement>
                                    <replacement><token>C_hebrewStemIndex2CSS</token><value>9</value></replacement>
                                    <replacement><token>C_aramaicStemIndex2CSS</token><value>10</value></replacement>
                                    <replacement><token>C_handleOfRequestedAnimation</token><value>11</value></replacement>
                                    <replacement><token>C_copyOfPassiveIndexArray</token><value>12</value></replacement>
                                    <replacement><token>C_copyOfMiddleIndexArray</token><value>13</value></replacement>
                                    <replacement><token>C_animationIndexArray</token><value>14</value></replacement>
                                    <replacement><token>C_timestampOfLastAnimation</token><value>15</value></replacement>
                                    <replacement><token>C_numOfAnimationsAlreadyPerformedOnSamePage</token><value>16</value></replacement>
                                    <replacement><token>C_axisUserSelectedToSort</token><value>17</value></replacement>
                                    <replacement><token>C_userProvidedSortOrder</token><value>18</value></replacement>
                                    <replacement><token>C_updatedGenderNumberCSS</token><value>19</value></replacement>
                                    <replacement><token>C_userTurnGenderNumberFromOffToOn</token><value>20</value></replacement>
									<replacement><token>C_ulVoiceBaseImgs</token><value>21</value></replacement>
									<replacement><token>createC4\s?([:(])</token><value>σCA$1</value></replacement>
									<replacement><token>calcAnimationPixelIncrement\s?([:(])</token><value>σCB$1</value></replacement>
									<replacement><token>createCanvas\s?([:(])</token><value>σCC$1</value></replacement>
									<replacement><token>createUlFor_OT\s?([:(])</token><value>σCD$1</value></replacement>
									<replacement><token>createUlForAllItemsInYAndX\s?([:(])</token><value>σCE$1</value></replacement>
									<replacement><token>createUlForOneInstanceOfTense\s?([:(])</token><value>σCF$1</value></replacement>
									<replacement><token>displayVerbUlOrNot\s?([:(])</token><value>σCG$1</value></replacement>
									<replacement><token>displayOTVerbUlOrNot\s?([:(])</token><value>σCH$1</value></replacement>
									<replacement><token>getRowColNum\s?([:(])</token><value>σCI$1</value></replacement>
									<replacement><token>updateUlForSpecificYAxis\s?([:(])</token><value>σCJ$1</value></replacement>
									<replacement><token>animateCanvasBottomLine\s?([:(])</token><value>σCK$1</value></replacement>
									<replacement><token>updateBottomLineOnly\s?([:(])</token><value>σCL$1</value></replacement>
									<replacement><token>updtLocalStorage\s?([:(])</token><value>σCM$1</value></replacement>
									<replacement><token>getVariablesForVerbTable\s?([:(])</token><value>σCN$1</value></replacement>
									<replacement><token>getVariablesForOTVerbTable\s?([:(])</token><value>σCO$1</value></replacement>
									<replacement><token>upCaseFirst\s?([:(])</token><value>σCP$1</value></replacement>
									<replacement><token>getSpecificMorphologyInfo\s?([:(])</token><value>σCQ$1</value></replacement>
									<replacement><token>assembleDescriptionsOfMorph\s?([:(])</token><value>σCR$1</value></replacement>
									<replacement><token>createCopyOfClrSetting\s?([:(])</token><value>σCS$1</value></replacement>
									<replacement><token>tableAxisSpan\s?([:(])</token><value>σCT$1</value></replacement>
									<replacement><token>addVerbTable\s?([:(])</token><value>σCU$1</value></replacement>
									<replacement><token>htmlToAdd1\s?([:(])</token><value>σCV$1</value></replacement>
									<replacement><token>htmlToAdd2\s?([:(])</token><value>σCW$1</value></replacement>
									<replacement><token>htmlToAdd3a\s?([:(])</token><value>σCX$1</value></replacement>
									<replacement><token>htmlToAdd4\s?([:(])</token><value>σCY$1</value></replacement>
									<replacement><token>htmlToAdd5a\s?([:(])</token><value>σCZ$1</value></replacement>
									<replacement><token>htmlToAdd6\s?([:(])</token><value>σCa$1</value></replacement>
									<replacement><token>voicesInTenseAndMood\s?([:(])</token><value>σCb$1</value></replacement>
									<replacement><token>updateCssForNumber\s?([:(])</token><value>σCc$1</value></replacement>
									<replacement><token>getAxisOrderOfItem\s?([:(])</token><value>σCd$1</value></replacement>
									<replacement><token>createUlForOTYAxis\s?([:(])</token><value>σCe$1</value></replacement>
									<replacement><token>hex2Rgb\s?([:(])</token><value>σCf$1</value></replacement>
									<replacement><token>addTitleToYAxis\s?([:(])</token><value>σCg$1</value></replacement>
									<replacement><token>createUlArrow\s?([:(])</token><value>σCh$1</value></replacement>
									<replacement><token>createUlShortArrow\s?([:(])</token><value>σCi$1</value></replacement>
									<replacement><token>createUlReverseArrow\s?([:(])</token><value>σCj$1</value></replacement>
									<replacement><token>createUlShortReverseArrow\s?([:(])</token><value>σCk$1</value></replacement>
									<replacement><token>createUl_Dash\s?([:(])</token><value>σCl$1</value></replacement>
									<replacement><token>createUlSolid\s?([:(])</token><value>σCm$1</value></replacement>
									<replacement><token>createUlDash_Dot\s?([:(])</token><value>σCn$1</value></replacement>
									<replacement><token>createUlDashDotDot\s?([:(])</token><value>σCo$1</value></replacement>
									<replacement><token>createUlNone\s?([:(])</token><value>σCp$1</value></replacement>
									<replacement><token>createUlDoubleSolid\s?([:(])</token><value>σCq$1</value></replacement>
									<replacement><token>createUlDot\s?([:(])</token><value>σCr$1</value></replacement>
									<replacement><token>createUlWave\s?([:(])</token><value>σCs$1</value></replacement>
									<replacement><token>animateCanvas\s?([:(])</token><value>σCt$1</value></replacement>
									<replacement><token>changeImageClr\s?([:(])</token><value>σCu$1</value></replacement>
									<replacement><token>getC4\s?([:(])</token><value>σCv$1</value></replacement>
									<replacement><token>getExplanationOfMorph\s?([:(])</token><value>σCw$1</value></replacement>
									<replacement><token>morph2CSS\s?([:(])</token><value>σCx$1</value></replacement>
									<replacement><token>addTitleToXAxis\s?([:(])</token><value>σCy$1</value></replacement>
									<replacement><token>getAllTenseMoodForThisGroup\s?([:(])</token><value>σCz$1</value></replacement>
									<replacement><token>checkNounClr\s?([:(])</token><value>σCAA$1</value></replacement>
									<replacement><token>c4NounOnly\s?([:(])</token><value>σCAB$1</value></replacement>
									<replacement><token>c4Color2019\s?([:(])</token><value>σCAC$1</value></replacement>
									<replacement><token>updateTenseOrFormPreview\s?([:(])</token><value>σCAD$1</value></replacement>
									<replacement><token>c4MainVsSupporingVerbs\s?([:(])</token><value>σCAE$1</value></replacement>
									<replacement><token>c4ImperativesOnly\s?([:(])</token><value>σCAF$1</value></replacement>
									<replacement><token>updateMoodPreview\s?([:(])</token><value>σCAG$1</value></replacement>
									<replacement><token>updateStemPreview\s?([:(])</token><value>σCAH$1</value></replacement>
									<replacement><token>c4ColorTense\s?([:(])</token><value>σCAI$1</value></replacement>
									<replacement><token>enableOrDisableAxisConfigButtons\s?([:(])</token><value>σCAJ$1</value></replacement>
									<replacement><token>updateHtmlForYAxis\s?([:(])</token><value>σCAK$1</value></replacement>
									<replacement><token>addElementToQtip\s?([:(])</token><value>σCAL$1</value></replacement>
									<replacement><token>updateHtmlForPassiveBkgrdClr\s?([:(])</token><value>σCAM$1</value></replacement>
									<replacement><token>enableOrDisableVerbAndNounButtonsSideBar\s?([:(])</token><value>σCAN$1</value></replacement>
									<replacement><token>addOtTitleToXAxisSideBar\s?([:(])</token><value>σCAO$1</value></replacement>
									<replacement><token>addOtTitleToXAxis\s?([:(])</token><value>σCAP$1</value></replacement>
									<replacement><token>addTitleToXAxisSideBar\s?([:(])</token><value>σCAQ$1</value></replacement>
									<replacement><token>convertLangInfoToHtml\s?([:(])</token><value>σCAR$1</value></replacement>
									<replacement><token>addVerbSideBar\s?([:(])</token><value>σCAS$1</value></replacement>
									<replacement><token>htmlToAdd3b\s?([:(])</token><value>σCAT$1</value></replacement>
									<replacement><token>htmlToAdd5b\s?([:(])</token><value>σCAU$1</value></replacement>
									<replacement><token>enableInfoIcon\s?([:(])</token><value>σCAV$1</value></replacement>
									<replacement><token>addNounTable\s?([:(])</token><value>σCAW$1</value></replacement>
									<replacement><token>addNounSideBar\s?([:(])</token><value>σCAX$1</value></replacement>
									<replacement><token>addCssToXAxisHeader\s?([:(])</token><value>σCAY$1</value></replacement>
									<replacement><token>addOTVerbTable\s?([:(])</token><value>σCAZ$1</value></replacement>
									<replacement><token>addOTVerbSideBar\s?([:(])</token><value>σC0$1</value></replacement>
									<replacement><token>voicesInFormAndStem\s?([:(])</token><value>σC2$1</value></replacement>
									<replacement><token>updatePreviewAtSideBar\s?([:(])</token><value>σC3$1</value></replacement>
									<replacement><token>userSortAxis\s?([:(])</token><value>σC4$1</value></replacement>
									<replacement><token>userAddHeaderInfo\s?([:(])</token><value>σC5$1</value></replacement>
									<replacement><token>userSortOTAxis\s?([:(])</token><value>σC6$1</value></replacement>
									<replacement><token>userUpdateClr\s?([:(])</token><value>σC7$1</value></replacement>
									<replacement><token>userUpdateOTClr\s?([:(])</token><value>σC8$1</value></replacement>
									<replacement><token>userUpdateNounClr\s?([:(])</token><value>σC9$1</value></replacement>
									<replacement><token>checkVerbClrInput\s?([:(])</token><value>σCAa$1</value></replacement>
									<replacement><token>updateHtmlForXAxis\s?([:(])</token><value>σCAb$1</value></replacement>
									<replacement><token>updateHtmlForGender\s?([:(])</token><value>σCAc$1</value></replacement>
									<replacement><token>updateHtmlForNumber\s?([:(])</token><value>σCAd$1</value></replacement>
									<replacement><token>updateHtmlForMiddleBkgrdClr\s?([:(])</token><value>σCAe$1</value></replacement>
									<replacement><token>hideOrShowHtmlForPassiveBkgrdClr\s?([:(])</token><value>σCAf$1</value></replacement>
									<replacement><token>updateAllSettingsAndInputFields\s?([:(])</token><value>σCAg$1</value></replacement>
									<replacement><token>hideIndividualInputField\s?([:(])</token><value>σCAh$1</value></replacement>
									<replacement><token>hideOrDisplayIndividualClrInputField\s?([:(])</token><value>σCAi$1</value></replacement>
									<replacement><token>updateVerbInputFields\s?([:(])</token><value>σCAj$1</value></replacement>
									<replacement><token>updateVerbsBkgrd\s?([:(])</token><value>σCAk$1</value></replacement>
									<replacement><token>getVerbItemsCombinedWithCurrentItem\s?([:(])</token><value>σCAl$1</value></replacement>
									<replacement><token>getAxisOrderOfCSS\s?([:(])</token><value>σCAm$1</value></replacement>
									<replacement><token>updateNounInputFields\s?([:(])</token><value>σCAn$1</value></replacement>
									<replacement><token>enableOrDisableVerbAndNounButtons\s?([:(])</token><value>σCAo$1</value></replacement>
                                    <replacement><token>^\s*var\s+\d+\s*=\s*\d+\s*\;\s*\/\/\s*TBRBMR\s*\n</token><value></value></replacement>
                                    <replacement><token>\s*var\s+\d+\s*=\s*\d+\s*\;</token><value></value></replacement>
                                </replacements>
                                <regexFlags> <regexFlag>MULTILINE</regexFlag> </regexFlags> 
                            </configuration>
						</execution>

						<execution>
                            <id>remove-const2</id>
							<phase>prepare-package</phase>
							<goals>
								<goal>replace</goal>
							</goals>
                            <configuration>
                            <!-- Remove const which give long, readable index names in the program -->
                                <includes>
                                    <include>${basedir}/target/**/*.min.js</include>
                                </includes>
                                <replacements>
									<!-- variables in multiple js files -->
									<replacement><token>idx2osisChapterJsword</token><value>σvMA</value></replacement>
									<replacement><token>keepQuickLexiconOpen</token><value>σvMB</value></replacement>	
									<!-- for function with same name in multiple js files-->
									<replacement><token>_buildBookTableHeader\s?([:(])</token><value>σMA$1</value></replacement>
									<replacement><token>_buildBookTable\s?([:(])</token><value>σMB$1</value></replacement>
									<replacement><token>_getTranslationType\s?([:(])</token><value>σMC$1</value></replacement>
									<replacement><token>_buildBookHTMLTable\s?([:(])</token><value>σMD$1</value></replacement>
									<replacement><token>goToPassage\s?([:(])</token><value>σME$1</value></replacement>
									<replacement><token>goBackToPreviousPage\s?([:(])</token><value>σMF$1</value></replacement>
									<replacement><token>_addSpecificContext\s?([:(])</token><value>σMG$1</value></replacement>
									<replacement><token>_removeSpecificContext\s?([:(])</token><value>σMH$1</value></replacement>
									<replacement><token>doSwapInterlinearLink\s?([:(])</token><value>σMI$1</value></replacement>
									<replacement><token>doFonts\s?([:(])</token><value>σMJ$1</value></replacement>
									<replacement><token>_doChromeHack\s?([:(])</token><value>σMK$1</value></replacement>
									<replacement><token>doInterlinearVerseNumbers\s?([:(])</token><value>σML$1</value></replacement>
									<replacement><token>_doSideNotes\s?([:(])</token><value>σMM$1</value></replacement>
									<replacement><token>_makeSideNoteQtipHandler\s?([:(])</token><value>σMN$1</value></replacement>
									<replacement><token>_makeSideNoteQtip\s?([:(])</token><value>σMO$1</value></replacement>
									<replacement><token>raiseInfo\s?([:(])</token><value>σMP$1</value></replacement>
									<replacement><token>showOrHideColorSideBarItem\s?([:(])</token><value>σMQ$1</value></replacement>
									<replacement><token>updateWhenRendered\s?([:(])</token><value>σMR$1</value></replacement>
									<replacement><token>capitalizeFirstLetter\s?([:(])</token><value>σMS$1</value></replacement>
									<replacement><token>convertMorphOSHM2TOS\s?([:(])</token><value>σMT$1</value></replacement>
									<replacement><token>highlightPhrase\s?([:(])</token><value>σMU$1</value></replacement>
									<replacement><token>showConfigGrammarColor\s?([:(])</token><value>σMV$1</value></replacement>
									<replacement><token>blockBackgroundScrolling\s?([:(])</token><value>σMW$1</value></replacement>
									<replacement><token>unpackVocabJSON\s?([:(])</token><value>σMX$1</value></replacement>
									<replacement><token>freqListQTip\s?([:(])</token><value>σMY$1</value></replacement>

									<!--  for step.util -->
									<replacement><token>msgForFrequencyOnAllBibles\s?([:(])</token><value>σuA$1</value></replacement>
									<replacement><token>showHideFreqList\s?([:(])</token><value>σuB$1</value></replacement>
									<replacement><token>highlightMultiStrongs\s?([:(])</token><value>σuC$1</value></replacement>
									<replacement><token>highlightStrong\s?([:(])</token><value>σuD$1</value></replacement>
									<replacement><token>showFrequencyOnAllBibles\s?([:(])</token><value>σuE$1</value></replacement>
									<replacement><token>suppressHighlight\s?([:(])</token><value>σuF$1</value></replacement>
									<replacement><token>refreshWaitStatus\s?([:(])</token><value>σuG$1</value></replacement>
									<replacement><token>escapeRegExp\s?([:(])</token><value>σuH$1</value></replacement>
									<replacement><token>getTestamentAndPassagesOfTheReferences\s?([:(])</token><value>σuI$1</value></replacement>
									<replacement><token>tempAlert\s?([:(])</token><value>σuJ$1</value></replacement>
									<replacement><token>checkFirstBibleHasPassageBeforeSwap\s?([:(])</token><value>σuK$1</value></replacement>
									<replacement><token>raiseOneTimeOnly\s?([:(])</token><value>σuL$1</value></replacement>
									<replacement><token>localStorageGetItem\s?([:(])</token><value>σuM$1</value></replacement>
									<replacement><token>raiseError\s?([:(])</token><value>σuN$1</value></replacement>
									<replacement><token>isBlank\s?([:(])</token><value>σuO$1</value></replacement>
									<replacement><token>activePassageId\s?([:(])</token><value>σuP$1</value></replacement>
									<replacement><token>activePassage\s?([:(])</token><value>σuQ$1</value></replacement>
									<replacement><token>postCanvasToURL\s?([:(])</token><value>σuR$1</value></replacement>
									<replacement><token>refreshColumnSize\s?([:(])</token><value>σuS$1</value></replacement>
									<replacement><token>findSearchTermsInQuotesAndRemovePrefix\s?([:(])</token><value>σuT$1</value></replacement>
									<replacement><token>reNumberModels\s?([:(])</token><value>σuU$1</value></replacement>
									<replacement><token>showOrHideTutorial\s?([:(])</token><value>σuV$1</value></replacement>
									<replacement><token>createNewLinkedColumn\s?([:(])</token><value>σuW$1</value></replacement>
									<replacement><token>createNewLinkedColumnWithScroll\s?([:(])</token><value>σuX$1</value></replacement>
									<replacement><token>createNewColumn\s?([:(])</token><value>σuY$1</value></replacement>
									<replacement><token>unlinkThis\s?([:(])</token><value>σuZ$1</value></replacement>
									<replacement><token>unlink\s?([:(])</token><value>σua$1</value></replacement>
									<replacement><token>localStorageSetItem\s?([:(])</token><value>σub$1</value></replacement>
									<replacement><token>getPassageContainer\s?([:(])</token><value>σuc$1</value></replacement>
									<replacement><token>getVocabMorphInfoFromJson\s?([:(])</token><value>σud$1</value></replacement>
									<replacement><token>getDetailsOfStrong\s?([:(])</token><value>σue$1</value></replacement>
									<replacement><token>modalCloseBtn\s?([:(])</token><value>σuf$1</value></replacement>
									<replacement><token>restoreFontSize\s?([:(])</token><value>σug$1</value></replacement>
									<replacement><token>changeSpecificFontSize\s?([:(])</token><value>σuh$1</value></replacement>
									<replacement><token>getFontSizeByName\s?([:(])</token><value>σui$1</value></replacement>
									<replacement><token>getFontSize\s?([:(])</token><value>σuj$1</value></replacement>
									<replacement><token>normalizeVersionName\s?([:(])</token><value>σuk$1</value></replacement>
									<replacement><token>safeEscapeQuote\s?([:(])</token><value>σul$1</value></replacement>
									<replacement><token>swapMasterVersion\s?([:(])</token><value>σum$1</value></replacement>
									<replacement><token>lookUpFrequencyFromMultiVersions\s?([:(])</token><value>σun$1</value></replacement>
									<replacement><token>correctPassageNotInBible\s?([:(])</token><value>σuo$1</value></replacement>
									<replacement><token>passageSelectionModal\s?([:(])</token><value>σup$1</value></replacement>
									<replacement><token>valueInDuplicateStrongOrNot\s?([:(])</token><value>σuq$1</value></replacement>
									<replacement><token>searchSelectionModal\s?([:(])</token><value>σur$1</value></replacement>
									<replacement><token>showVideoModal\s?([:(])</token><value>σus$1</value></replacement>
									<replacement><token>showSummary\s?([:(])</token><value>σut$1</value></replacement>
									<replacement><token>showLongAlert\s?([:(])</token><value>σuu$1</value></replacement>
									<replacement><token>setDefaultColor\s?([:(])</token><value>σuv$1</value></replacement>
									<replacement><token>switchColorMode\s?([:(])</token><value>σuw$1</value></replacement>
									<replacement><token>buildBibleProjectVideo\s?([:(])</token><value>σux$1</value></replacement>
									<replacement><token>startPickBible\s?([:(])</token><value>σuy$1</value></replacement>
									<replacement><token>setClassicalUI\s?([:(])</token><value>σuz$1</value></replacement>
									<replacement><token>showIntro\s?([:(])</token><value>σu0$1</value></replacement>
									<replacement><token>showIntroOfMultiVersion\s?([:(])</token><value>σu1$1</value></replacement>
									<replacement><token>addTagLine\s?([:(])</token><value>σu2$1</value></replacement>
									<replacement><token>showByGeo\s?([:(])</token><value>σu3$1</value></replacement>
									<replacement><token>putStrongDetails\s?([:(])</token><value>σu4$1</value></replacement>
									<replacement><token>isDarkMode\s?([:(])</token><value>σu5$1</value></replacement>
									<replacement><token>formatSearchResultRange\s?([:(])</token><value>σu6$1</value></replacement>
									<replacement><token>unpackJson\s?([:(])</token><value>σu7$1</value></replacement>
									<replacement><token>fixStrongNumForVocabInfo\s?([:(])</token><value>σu8$1</value></replacement>
									<replacement><token>bookOrderInBible\s?([:(])</token><value>σu9$1</value></replacement>
									<replacement><token>checkBibleHasTheTestament\s?([:(])</token><value>σuAA$1</value></replacement>
									<replacement><token>whichBibleIsTheBest\s?([:(])</token><value>σuAB$1</value></replacement>
									<replacement><token>checkFirstBibleHasPassage\s?([:(])</token><value>σuAC$1</value></replacement>
									<replacement><token>getVersionIndex\s?([:(])</token><value>σuAD$1</value></replacement>
									<replacement><token>getFrequency\s?([:(])</token><value>σuAE$1</value></replacement>
									<replacement><token>formatFrequency\s?([:(])</token><value>σuAF$1</value></replacement>
									<replacement><token>lexFeedbackModal\s?([:(])</token><value>σuAG$1</value></replacement>

									<!--  for step.util.ui -->
									<replacement><token>selectMark\s?([:(])</token><value>σiA$1</value></replacement>
									<replacement><token>shortenDisplayText\s?([:(])</token><value>σiB$1</value></replacement>
									<replacement><token>renderArgs\s?([:(])</token><value>σiC$1</value></replacement>
									<replacement><token>renderArg\s?([:(])</token><value>σiD$1</value></replacement>
									<replacement><token>getSource\s?([:(])</token><value>σiE$1</value></replacement>
									<replacement><token>renderEnhancedToken\s?([:(])</token><value>σiF$1</value></replacement>
									<replacement><token>_getFontClasses\s?([:(])</token><value>σiG$1</value></replacement>
									<replacement><token>_getFontClassForLanguage\s?([:(])</token><value>σiH$1</value></replacement>
									<replacement><token>showDef\s?([:(])</token><value>σiJ$1</value></replacement>
									<replacement><token>addCollapsiblePanel\s?([:(])</token><value>σiK$1</value></replacement>
									<replacement><token>openStrongNumber\s?([:(])</token><value>σiL$1</value></replacement>
									<replacement><token>addStrongHandlers\s?([:(])</token><value>σiM$1</value></replacement>
									<replacement><token>_getStrongStringAndPrevHTML\s?([:(])</token><value>σiN$1</value></replacement>
									<replacement><token>_processTouchOnStrong\s?([:(])</token><value>σiO$1</value></replacement>
									<replacement><token>removeQuickLexicon\s?([:(])</token><value>σiP$1</value></replacement>
									<replacement><token>displayNewQuickLexiconForVerseVocab\s?([:(])</token><value>σiQ$1</value></replacement>
									<replacement><token>_displayNewQuickLexicon\s?([:(])</token><value>σiR$1</value></replacement>
									<replacement><token>getVerseNumberAndVersion\s?([:(])</token><value>σiS$1</value></replacement>
									<replacement><token>getWordOrderSuffix\s?([:(])</token><value>σiT$1</value></replacement>
									<replacement><token>emptyOffDomAndPopulate\s?([:(])</token><value>σiU$1</value></replacement>
									<replacement><token>getCopyrightInfo\s?([:(])</token><value>σiV$1</value></replacement>
									<replacement><token>_getCopyrightLink\s?([:(])</token><value>σiW$1</value></replacement>
									<replacement><token>_applyCssClassesRepeatByGroup\s?([:(])</token><value>σiX$1</value></replacement>
									<replacement><token>getFeaturesLabel\s?([:(])</token><value>σiY$1</value></replacement>
									<replacement><token>enhanceVerseNumbers\s?([:(])</token><value>σiZ$1</value></replacement>
									<replacement><token>_addSubjectAndRelatedWordsPopup([:(,])</token><value>σia$1</value></replacement>
									<replacement><token>showListOfVersesInQLexArea\s?([:(])</token><value>σib$1</value></replacement>
									<replacement><token>getFontForStrong\s?([:(])</token><value>σic$1</value></replacement>
									<!-- for step.passage -->
									<replacement><token>getPassageId\s?([:(])</token><value>σpA$1</value></replacement>
									<replacement><token>higlightStrongs\s?([:(])</token><value>σpB$1</value></replacement>
									<replacement><token>removeStrongsHighlights\s?([:(])</token><value>σpC$1</value></replacement>
									<replacement><token>blacklistedStrongs</token><value>σpD</value></replacement>
									
									<!-- for step.util variables -->
									<replacement><token>outstandingRequests</token><value>σuvA</value></replacement>
									<replacement><token>timersForSTEPApp</token><value>σuvB</value></replacement>
									<replacement><token>versionsBoth</token><value>σuvC</value></replacement>
									<replacement><token>versionsGreekNT</token><value>σuvD</value></replacement>
									<replacement><token>versionsGreekOT</token><value>σuvE</value></replacement>
									<replacement><token>versionsGreekBoth</token><value>σuvF</value></replacement>
									<replacement><token>versionsHebrewOT</token><value>σuvG</value></replacement>
									<replacement><token>vocabKeys</token><value>σuvH</value></replacement>
									<!-- for passage_selection function -->
									<replacement><token>initPassageSelect\s?([:(])</token><value>σpA$1</value></replacement>
									<replacement><token>_handleKeyboardEntry\s?([:(])</token><value>σpB$1</value></replacement>
									<replacement><token>_displayListOfBooks\s?([:(])</token><value>σpC$1</value></replacement>
									<replacement><token>checkForBiblesWithoutOneTestament\s?([:(])</token><value>σpD$1</value></replacement>
									<replacement><token>_buildBookHeaderAndSkeleton\s?([:(])</token><value>σpE$1</value></replacement>
									<replacement><token>getNumOfChapters\s?([:(])</token><value>σpF$1</value></replacement>
									<replacement><token>getChapters\s?([:(])</token><value>σpG$1</value></replacement>
									<replacement><token>_handleEnteredPassage\s?([:(])</token><value>σpH$1</value></replacement>
									<replacement><token>changeNumberForm\s?([:(])</token><value>σpI$1</value></replacement>
									<replacement><token>_buildChptrVrsTbl\s?([:(])</token><value>σpJ$1</value></replacement>
									<!-- for passage_selection variables -->
									<replacement><token>hasEnglishBible</token><value>vA</value></replacement>
									<replacement><token>lastOsisID</token><value>vB</value></replacement>
									<replacement><token>lastNumOfChapters</token><value>vC</value></replacement>
									<replacement><token>arrayOfTyplicalBooksChapters</token><value>vD</value></replacement>
									<replacement><token>osisChapterJsword</token><value>vE</value></replacement>
									<!-- for search_selection function -->
									<replacement><token>initSearchSelection\s?([:(])</token><value>σsA$1</value></replacement>
									<replacement><token>updateAdvancedSearchElements\s?([:(])</token><value>σsB$1</value></replacement>
									<replacement><token>_initOptions\s?([:(])</token><value>σsC$1</value></replacement>
									<replacement><token>checkSearchButton\s?([:(])</token><value>σsD$1</value></replacement>
									<replacement><token>previousSearchesEnteredByUser\s?([:(])</token><value>σsE$1</value></replacement>
									<replacement><token>showRowsAndMessagesAccordingToSelectedLanguage\s?([:(])</token><value>σsF$1</value></replacement>
									<replacement><token>_updateDisplayBasedOnOptions\s?([:(])</token><value>σsG$1</value></replacement>
									<replacement><token>createPreviousSearchList\s?([:(])</token><value>σsH$1</value></replacement>
									<replacement><token>_composeDescriptionForNames\s?([:(])</token><value>σsI$1</value></replacement>
									<replacement><token>_buildSearchHeaderAndTable\s?([:(])</token><value>σsJ$1</value></replacement>
									<replacement><token>getGlossInUserLanguage\s?([:(])</token><value>σsK$1</value></replacement>
									<replacement><token>_buildRangeHeaderAndSkeleton\s?([:(])</token><value>σsL$1</value></replacement>
									<replacement><token>removePreviousSearch\s?([:(])</token><value>σsM$1</value></replacement>
									<replacement><token>_checkKeyboardEntered\s?([:(])</token><value>σsN$1</value></replacement>
									<replacement><token>_createSingleRange\s?([:(])</token><value>σsO$1</value></replacement>
									<replacement><token>_isBookInGroup\s?([:(])</token><value>σsP$1</value></replacement>
									<replacement><token>_getBookDisplayName\s?([:(])</token><value>σsQ$1</value></replacement>
									<replacement><token>_fillBooksTable\s?([:(])</token><value>σsR$1</value></replacement>
									<replacement><token>_userClickedTestament\s?([:(])</token><value>σsS$1</value></replacement>
									<replacement><token>_userClickedCategory\s?([:(])</token><value>σsT$1</value></replacement>
									<replacement><token>_userClickedBook\s?([:(])</token><value>σsU$1</value></replacement>
									<replacement><token>_checkHeaderButton\s?([:(])</token><value>σsV$1</value></replacement>
									<replacement><token>goSearch\s?([:(])</token><value>σsW$1</value></replacement>
									<replacement><token>_handleEnteredSearchWord\s?([:(])</token><value>σsX$1</value></replacement>
									<replacement><token>_getSuggestedFrequency\s?([:(])</token><value>σsY$1</value></replacement>
									<replacement><token>_getSuggestedWordsInfo\s?([:(])</token><value>σsZ$1</value></replacement>
									<replacement><token>addNotInBibleSelected\s?([:(])</token><value>σsa$1</value></replacement>
									<replacement><token>_composeDescription\s?([:(])</token><value>σsb$1</value></replacement>
									<replacement><token>_getLanguagesOfBibles\s?([:(])</token><value>σsc$1</value></replacement>
									<replacement><token>getVocabInfoFromSuggestAPI\s?([:(])</token><value>σsd$1</value></replacement>
									<replacement><token>getVocabInfoForShowAugStrong\s?([:(])</token><value>σse$1</value></replacement>
									<replacement><token>processVocabInfoForShowAugStrong\s?([:(])</token><value>σsf$1</value></replacement>
									<replacement><token>_getAdditionalInformationOnStrong\s?([:(])</token><value>σsg$1</value></replacement>
									<replacement><token>_processAdditionalInfoOnStrong\s?([:(])</token><value>σsi$1</value></replacement>
									<replacement><token>createFirstLineForAugmentedStrong\s?([:(])</token><value>σsj$1</value></replacement>
									<replacement><token>createSubsequentLineForAugmentedStrong\s?([:(])</token><value>σsk$1</value></replacement>
									<replacement><token>createDisplayForAugmentedStrong\s?([:(])</token><value>σsl$1</value></replacement>
									<replacement><token>_showAugmentedStrong\s?([:(])</token><value>σsm$1</value></replacement>
									<replacement><token>buildSuffixTag\s?([:(])</token><value>σsn$1</value></replacement>
									<replacement><token>checkDuplicates\s?([:(])</token><value>σso$1</value></replacement>
									<replacement><token>addMouseOverEvent\s?([:(])</token><value>σsp$1</value></replacement>
									<replacement><token>appendSearchSuggestionsToDisplay\s?([:(])</token><value>σsq$1</value></replacement>
									<replacement><token>extractStrongFromDetailLexicalTag\s?([:(])</token><value>σsr$1</value></replacement>
									<replacement><token>getFrequencyFromDetailLexicalTag\s?([:(])</token><value>σss$1</value></replacement>
									<replacement><token>buildHTMLFromDetailLexicalTag\s?([:(])</token><value>σst$1</value></replacement>
									<replacement><token>_handleClickOnTriangle</token><value>σsu</value></replacement>
									<replacement><token>verifySearchJoin\s?([:(])</token><value>σsv$1</value></replacement>
									<replacement><token>addSearchWords\s?([:(])</token><value>σsw$1</value></replacement>

									<!-- for search_selection variables -->
									<replacement><token>searchOnSpecificType</token><value>σsvA</value></replacement>
									<replacement><token>searchTypeCode</token><value>σsvB</value></replacement>
									<replacement><token>numOfSearchTypesToDisplay</token><value>σsvC</value></replacement>
									<replacement><token>searchModalCurrentPage</token><value>σsvD</value></replacement>
									<replacement><token>searchUserInput</token><value>σsvE</value></replacement>
									<replacement><token>previousSearchTokens</token><value>σsvF</value></replacement>
									<replacement><token>numOfPreviousSearchTokens</token><value>σsvG</value></replacement>
									<replacement><token>includePreviousSearches</token><value>σsvH</value></replacement>
									<replacement><token>rangeWasUpdated</token><value>σsvI</value></replacement>
									<replacement><token>andOrNotUpdated</token><value>σsvJ</value></replacement>
									<replacement><token>groupsOT</token><value>σsvK</value></replacement>
									<replacement><token>groupsNT</token><value>σsvL</value></replacement>
									<replacement><token>groupsOther</token><value>σsvM</value></replacement>
									<replacement><token>idx2BookOrder</token><value>σsvN</value></replacement>
									<!-- these two are function but it does not have a "(" after the use of the name -->
									<replacement><token>handleKeyboardInput</token><value>σsvO</value></replacement>
									<replacement><token>_addLineWithAugStrongOrDetailLexInfo</token><value>σsvP</value></replacement>

									<!-- view_main_search -->
									<replacement><token>_setData\s?([:(])</token><value>σmA$1</value></replacement>
									<replacement><token>_resetReplaceItems\s?([:(])</token><value>σmB$1</value></replacement>
									<replacement><token>_addTokenHandlers\s?([:(])</token><value>σmC$1</value></replacement>
									<replacement><token>_addVersionHandlers\s?([:(])</token><value>σmD$1</value></replacement>
									<replacement><token>_addTextHandlers\s?([:(])</token><value>σmE$1</value></replacement>
									<replacement><token>_addExactFormHandlers\s?([:(])</token><value>σmF$1</value></replacement>
									<replacement><token>_addReferenceHandlers\s?([:(])</token><value>σmG$1</value></replacement>
									<replacement><token>_addDefaultExampleHandlers\s?([:(])</token><value>σmH$1</value></replacement>
									<replacement><token>_searchExampleData\s?([:(])</token><value>σmI$1</value></replacement>
									<replacement><token>openAdvancedSearch\s?([:(])</token><value>σmJ$1</value></replacement>
									<replacement><token>_markItemForReplacing\s?([:(])</token><value>σmK$1</value></replacement>
									<replacement><token>pickBible\s?([:(])</token><value>σmL$1</value></replacement>
									<replacement><token>convertResultTermToNormalOption\s?([:(])</token><value>σmM$1</value></replacement>
									<replacement><token>convertResultToGroup\s?([:(])</token><value>σmN$1</value></replacement>
									<replacement><token>convertResultTermToTypedOptions\s?([:(])</token><value>σmO$1</value></replacement>
									<replacement><token>setGroupText\s?([:(])</token><value>σmP$1</value></replacement>
									<replacement><token>_getAncientFirstRepresentation\s?([:(])</token><value>σmQ$1</value></replacement>
									<replacement><token>_getEnglishFirstRepresentation\s?([:(])</token><value>σmR$1</value></replacement>
									<replacement><token>getCurrentInput\s?([:(])</token><value>σmS$1</value></replacement>
									<replacement><token>_getData\s?([:(])</token><value>σmT$1</value></replacement>
									<replacement><token>_getSpecificContext\s?([:(])</token><value>σmU$1</value></replacement>
									<replacement><token>filterLocalData\s?([:(])</token><value>σmV$1</value></replacement>
									<replacement><token>_markMatch\s?([:(])</token><value>σmW$1</value></replacement>
									<replacement><token>_getPartialToken\s?([:(])</token><value>σmX$1</value></replacement>
									<replacement><token>_reconstructToken\s?([:(])</token><value>σmY$1</value></replacement>
									<replacement><token>_reEvaluateMasterVersion\s?([:(])</token><value>σmZ$1</value></replacement>
									<!-- <replacement><token>_appendVersions</token><value>zS</value></replacement> -->
									<!-- <replacement><token>_removeVersion</token><value>zT</value></replacement> -->
									<!-- <replacement><token>formatResults</token><value>zZ</value></replacement> -->
									<!-- <replacement><token>syncWithUrl</token><value>zd</value></replacement> -->
									<!-- <replacement><token>_handleKeyPressInSearch</token><value>ze</value></replacement> -->
									<!-- <replacement><token>matchDropdownEntry</token><value>zfW</value></replacement> -->
									<!-- <replacement><token>showAnalysis</token><value>zf</value></replacement> -->
									<!-- step_router.js -->
									<replacement><token>_addArg\s?([:(])</token><value>σmA$1</value></replacement>
									<replacement><token>overwriteUrl\s?([:(])</token><value>σmB$1</value></replacement>
									<replacement><token>navigatePreserveVersions\s?([:(])</token><value>σmC$1</value></replacement>
									<replacement><token>navigateSearch\s?([:(])</token><value>σmD$1</value></replacement>
									<replacement><token>getShareableColumnUrl\s?([:(])</token><value>σmE$1</value></replacement>
									<replacement><token>handleSearchResults\s?([:(])</token><value>σmF$1</value></replacement>
									<replacement><token>handleRenderModel\s?([:(])</token><value>σmG$1</value></replacement>
									<replacement><token>_renderSummary\s?([:(])</token><value>σmH$1</value></replacement>
									<!-- <replacement><token>doMasterSearch</token><value>zI</value></replacement> -->
									<replacement><token>_addBookmark\s?([:(])</token><value>σmI$1</value></replacement>
									<replacement><token>_normalizeArgs\s?([:(])</token><value>σmJ$1</value></replacement>
									<!-- view_display.js -->
									<replacement><token>_getBlockSizes\s?([:(])</token><value>σdiA$1</value></replacement>
									<replacement><token>_isInterlinearMode\s?([:(])</token><value>σdiB$1</value></replacement>

									<!-- view_menu_passage -->
									<replacement><token>_updateIcon\s?([:(])</token><value>σvA$1</value></replacement>
									<replacement><token>handleInfoHide\s?([:(])</token><value>σvB$1</value></replacement>
									<replacement><token>showDots\s?([:(])</token><value>σvC$1</value></replacement>
									<replacement><token>removeSearchArgs\s?([:(])</token><value>σvD$1</value></replacement>
									<replacement><token>_updateDropdownContents\s?([:(])</token><value>σvE$1</value></replacement>
									<replacement><token>_isDisplayOptionsDropdown\s?([:(])</token><value>σvF$1</value></replacement>
									<replacement><token>_isShareDropdown\s?([:(])</token><value>σvG$1</value></replacement>
									<replacement><token>_updateColumnOptions\s?([:(])</token><value>σvH$1</value></replacement>
									<replacement><token>_updateDisplayOptions\s?([:(])</token><value>σvI$1</value></replacement>
									<replacement><token>_updateDisplayModeOptions\s?([:(])</token><value>σvJ$1</value></replacement>
									<replacement><token>_initUI\s?([:(])</token><value>σvK$1</value></replacement>
									<replacement><token>_createDisplayModes\s?([:(])</token><value>σvL$1</value></replacement>
									<replacement><token>_createDisplayOptions\s?([:(])</token><value>σvM$1</value></replacement>
									<replacement><token>getContextLabel\s?([:(])</token><value>σvN$1</value></replacement>
									<replacement><token>_createSearchOptions\s?([:(])</token><value>σvO$1</value></replacement>
									<replacement><token>_createItemsInDropdown\s?([:(])</token><value>σvP$1</value></replacement>
									<replacement><token>_createPassageOptions\s?([:(])</token><value>σvQ$1</value></replacement>
									<replacement><token>_addTickHandlers\s?([:(])</token><value>σvR$1</value></replacement>
									<replacement><token>_createLink\s?([:(])</token><value>σvS$1</value></replacement>
									<replacement><token>_updateOptions\s?([:(])</token><value>σvU$1</value></replacement>
									<replacement><token>_setVisible\s?([:(])</token><value>σvV$1</value></replacement>
									<replacement><token>_doSocialButtons\s?([:(])</token><value>σvW$1</value></replacement>
									<replacement><token>goToSiblingChapter\s?([:(])</token><value>σvX$1</value></replacement>
									<replacement><token>showUserSwipeIsAccepted\s?([:(])</token><value>σvY$1</value></replacement>
									<!-- <replacement><token>handleDropdownMenu</token><value>zC</value></replacement> -->
									<!-- <replacement><token>_updateVisibleDropdown</token><value>zD</value></replacement> -->
									<!-- <replacement><token>activateColumn\s?([:(])</token><value>za$1</value></replacement> -->
									<!-- <replacement><token>changeFontSizeInThisPanel</token><value>zX</value></replacement> -->
									<!-- <replacement><token>goToPreviousChapter</token><value>zY</value></replacement> -->
									<!-- <replacement><token>goToNextChapter</token><value>zZ</value></replacement> -->
									<!-- step_ready.js -->
									<replacement><token>addNavBar\s?([:(])</token><value>σvA$1</value></replacement>
									<replacement><token>initDataSources\s?([:(])</token><value>σvB$1</value></replacement>
									<replacement><token>markAsRecommended\s?([:(])</token><value>σvC$1</value></replacement>
									<replacement><token>initSettings\s?([:(])</token><value>σvD$1</value></replacement>
									<replacement><token>initSearchDropdown\s?([:(])</token><value>σvE$1</value></replacement>
									<replacement><token>patchBackboneHistory\s?([:(])</token><value>σvF$1</value></replacement>
									<replacement><token>identifyLikelyPreviousPassage\s?([:(])</token><value>σvG$1</value></replacement>
									<replacement><token>initCoreModelsAndRouter\s?([:(])</token><value>σvH$1</value></replacement>
									<!-- view_wordle_stat.js -->
									<replacement><token>addRefreshStats\s?([:(])</token><value>σwA$1</value></replacement>
									<replacement><token>populateMenu\s?([:(])</token><value>σwB$1</value></replacement>
									<replacement><token>_getBestReference\s?([:(])</token><value>σwC$1</value></replacement>
									<replacement><token>_getStats\s?([:(])</token><value>σwD$1</value></replacement>
									<replacement><token>doStats\s?([:(])</token><value>σwE$1</value></replacement>
									<replacement><token>createWordleLink\s?([:(])</token><value>σwF$1</value></replacement>
									<replacement><token>_createWordleTab\s?([:(])</token><value>σwG$1</value></replacement>
									<!-- view_history.js -->
									<replacement><token>removeBookmarkHandler\s?([:(])</token><value>σhA$1</value></replacement>
									<replacement><token>starBookmarkHandler\s?([:(])</token><value>σhB$1</value></replacement>
									<replacement><token>openBookmarkHandler\s?([:(])</token><value>σhC$1</value></replacement>
									<replacement><token>_insertBookmark\s?([:(])</token><value>σhD$1</value></replacement>
									<replacement><token>_findByModel\s?([:(])</token><value>σhE$1</value></replacement>
									<replacement><token>_getList\s?([:(])</token><value>σhF$1</value></replacement>

									<!-- view_display_passage.js -->
									<!-- <replacement><token>scrollToTargetLocation</token><value>zA</value></replacement> -->
									<!-- <replacement><token>_scrollPassageToTarget\s?([:(])</token><value>zB$1</value></replacement> -->
									<replacement><token>updateSpecificColor\s?([:(])</token><value>σdA$1</value></replacement>
									<replacement><token>updateSTEPColor\s?([:(])</token><value>σdB$1</value></replacement>
									<replacement><token>_warnCommentaryLookupVersion\s?([:(])</token><value>σdC$1</value></replacement>
									<replacement><token>_warnIfFirstTimeCompare\s?([:(])</token><value>σdD$1</value></replacement>
									<replacement><token>_warnFirstTimeColorCoding\s?([:(])</token><value>σdE$1</value></replacement>
									<replacement><token>_warnIfInterlinearFirstTime\s?([:(])</token><value>σdF$1</value></replacement>
									<replacement><token>_warnIfNoStrongs\s?([:(])</token><value>σdG$1</value></replacement>
									<replacement><token>_doDuplicateNotice\s?([:(])</token><value>σdH$1</value></replacement>
									<replacement><token>_doInterlinearDividers\s?([:(])</token><value>σdI$1</value></replacement>
									<replacement><token>_doAlternatives\s?([:(])</token><value>σdJ$1</value></replacement>
									<replacement><token>warnIfBibleDoesNotHaveTestament\s?([:(])</token><value>σdK$1</value></replacement>
									<replacement><token>doInlineNoteQuickLexicon\s?([:(])</token><value>σdL$1</value></replacement>
									<replacement><token>_doNonInlineNotes\s?([:(])</token><value>σdM$1</value></replacement>
									<replacement><token>_doHighlightNoteInPane\s?([:(])</token><value>σdN$1</value></replacement>
									<replacement><token>_doVerseNumbers\s?([:(])</token><value>σdO$1</value></replacement>
									<replacement><token>_doHideEmptyNotesPane\s?([:(])</token><value>σdP$1</value></replacement>
									<replacement><token>_adjustTextAlignment\s?([:(])</token><value>σdQ$1</value></replacement>
									<replacement><token>_updatePageTitle\s?([:(])</token><value>σdR$1</value></replacement>
									<replacement><token>_addStrongHandlers\s?([:(])</token><value>σdS$1</value></replacement>
								</replacements>
                                <regexFlags> <regexFlag>MULTILINE</regexFlag> </regexFlags> 
                            </configuration>
						</execution>

						<execution>
                            <id>remove-space</id>
							<phase>prepare-package</phase>
							<goals>
								<goal>replace</goal>
							</goals>
                            <configuration>
                                <includes>
									<include>${basedir}/target/**/*.jsp</include>
                                </includes>
                                <replacements>
                                    <replacement><token>^\s*</token><value></value></replacement>
                                </replacements>
                                <regexFlags> <regexFlag>MULTILINE</regexFlag> </regexFlags> 
                            </configuration>
						</execution>
						<execution>
                            <id>change-acl</id>
							<phase>prepare-package</phase>
							<goals>
								<goal>replace</goal>
							</goals>
                            <configuration>
                                <includes>
                                    <include>${basedir}/target/step-web/WEB-INF/web.xml</include>
                                </includes>
                                <replacements>
                                    <replacement><token><![CDATA[<!--localhost.acl]]></token><value></value></replacement>
                                    <replacement><token><![CDATA[LOCALHOST.ACL-->]]></token><value></value></replacement>
                                </replacements>
                                <regexFlags> <regexFlag>MULTILINE</regexFlag> </regexFlags>
								<skip>${skipLocalHostACL}</skip>
                            </configuration>
						</execution>
					</executions>
				</plugin>
				<plugin>
					<groupId>org.codehaus.cargo</groupId>
					<artifactId>cargo-maven2-plugin</artifactId>
					<version>1.2.3</version>
					<configuration>
						<container>
							<containerId>tomcat6x</containerId>
							<home>/var/lib/tomcat9</home>
						</container>
						<configuration>
							<type>existing</type>
							<home>/var/lib/tomcat9</home>
						</configuration>
						<deployer>
							<type>installed</type>
						</deployer>
						<deployables>
							<deployable>
								<groupId>com.tyndalehouse.step</groupId>
								<artifactId>step-web</artifactId>
								<type>war</type>
								<properties>
									<context>step-web${personal.suffix}</context>
								</properties>
							</deployable>
						</deployables>
						<skip>${skipTomcat}</skip>
					</configuration>
					<executions>
						<execution>
							<id>deploy-tomcat</id>
							<phase>integration-test</phase>
							<goals>
								<goal>redeploy</goal>
							</goals>
						</execution>
					</executions>
				</plugin>
			</plugins>
	</build>

	<profiles>
		<profile>
			<!-- deployment locally, or for local use -->
			<id>deploy-local</id>
			<properties>
				<skipTomcat>false</skipTomcat>
			</properties>
		</profile>
		<profile>
			<id>standalone-install</id>
			<properties>
				<skipLocalHostACL>false</skipLocalHostACL>
			</properties>
		</profile>
	</profiles>

</project>
